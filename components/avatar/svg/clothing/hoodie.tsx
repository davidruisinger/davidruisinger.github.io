import React from 'react'

interface HoodieProps {
  active?: boolean
  top?: number
  left?: number
}

export const Hoodie: React.FunctionComponent<HoodieProps> = ({
  active,
  left = 0,
  top = 0,
}) => {
  const show = React.useRef(null)
  const hide = React.useRef(null)

  const firstUpdate = React.useRef(true)
  React.useEffect(() => {
    if (firstUpdate.current) {
      firstUpdate.current = false
      return
    }
    if (active) {
      return show.current?.beginElement()
    }
    return hide.current?.beginElement()
  }, [active])

  return (
    <g id="Hoodie" transform={`translate(${left}, ${top})`}>
      <g transform={`rotate(${active ? '0' : '-90'} 96 200)`}>
        <path
          d="M127.147017,2.84217094e-14 L128.077045,0.192622051 C142.541637,3.26286922 152,9.39325654 152,20.5412315 C152,21.1303546 151.967265,21.7160005 151.903067,22.2977743 C169.058603,28.1088472 183.335269,40.2746999 192,56.0312971 C170.098195,85.4903973 135.249179,104.541231 96.0008047,104.541231 C56.752274,104.541231 21.9031364,85.4902454 0,56.0324094 C8.6660286,40.2753198 22.9422549,28.1096997 40.0978236,22.2975909 C40.0327729,21.7166725 40,21.1306926 40,20.5412315 C40,9.15596115 49.865309,3.00416025 64.852985,2.84217094e-14 C67.6363086,2.1173437 70.6378435,3.95689651 73.8178662,5.47928354 L74,5.561 L74,21.5412315 C74,33.5699933 83.6537258,43.3440067 95.6361898,43.5382841 L96,43.5412315 C108.028762,43.5412315 117.802775,33.8875057 117.997053,21.9050417 L118,21.5412315 L118.000235,5.56193587 L118.183137,5.4788033 L118.183137,5.4788033 C121.36299,3.95641267 124.364366,2.11688683 127.147017,2.84217094e-14 Z"
          fill="#B7C1DB"
        ></path>
        <g
          fill="#F4F4F4"
          id="Straps"
          transform="translate(62.998495, 46.040097)"
        >
          <path
            d="M66.0044434,-5.68434189e-14 L66.002638,21.439135 C66.002638,23.3721316 64.4356346,24.939135 62.502638,24.939135 C60.5696414,24.939135 59.002638,23.3721316 59.002638,21.439135 L59.0031232,2.83794083 C61.4089158,1.99121596 63.7539867,1.04172976 66.0044434,-5.68434189e-14 Z"
            id="Right"
          ></path>
          <path
            d="M7.00275705,2.83895081 L7.00263801,41.439135 C7.00263801,43.3721316 5.43563463,44.939135 3.50263801,44.939135 C1.56964138,44.939135 0.00263800559,43.3721316 0.00263800559,41.439135 L1.13686838e-13,0.000663283671 C2.25091401,1.04254699 4.59647014,1.99215071 7.00275705,2.83895081 Z"
            id="Left"
          ></path>
        </g>
        <path
          d="M151.893502,22.3173548 C154.526792,23.2093258 157.092254,24.2510201 159.580004,25.4324417 C149.734202,41.6596798 120.40026,53.560812 95.9904353,53.560812 C71.5806105,53.560812 42.2466682,41.6596798 32.4,25.4329468 C34.889812,24.2510014 37.4551198,23.2092485 40.0882589,22.3171714 L40.0832146,22.2792986 C41.9573459,39.6390786 71.8539632,53.560812 95.9904353,53.560812 C119.903006,53.560812 149.46935,39.8961696 151.838293,22.7615151 L151.893502,22.3173548 L151.893502,22.3173548 Z"
          fill="#000000"
          fillOpacity="0.15"
          id="Shadow"
        ></path>

        <animateTransform
          attributeName="transform"
          begin="indefinite"
          dur="300ms"
          fill="freeze"
          from="90 96 200"
          ref={show}
          to="0 96 200"
          type="rotate"
        />

        <animateTransform
          attributeName="transform"
          begin="indefinite"
          dur="300ms"
          fill="freeze"
          from="0 96 200"
          ref={hide}
          to="-90 96 200"
          type="rotate"
        />
      </g>
    </g>
  )
}
