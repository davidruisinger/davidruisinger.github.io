import React from 'react'

interface NinjaProps {
  active?: boolean
  top?: number
  left?: number
}

export const Ninja: React.FunctionComponent<NinjaProps> = ({
  active,
  left = 0,
  top = 0,
}) => {
  const show = React.useRef<SVGElement>(null)
  const hide = React.useRef<SVGElement>(null)

  const firstUpdate = React.useRef(true)
  React.useEffect(() => {
    if (firstUpdate.current) {
      firstUpdate.current = false
      return
    }
    if (active) {
      show.current?.beginElement()
    } else {
      hide.current?.beginElement()
    }
  }, [active])

  return (
    <g id="Ninja" transform={`translate(${left}, ${top})`}>
      <g
        transform={`rotate(${
          active && firstUpdate.current ? '0' : '-90'
        } 100 400)`}
      >
        <g transform="scale(1 -1) rotate(38 371.977 3.918)">
          <path d="M17.999.855L18 72h-8L9.999.855h8z" fill="#B3B3B3" />
          <path d="M25.999.855L26 72h-8L17.999.855h8z" fill="#D6D6D6" />
          <path
            d="M28 68v54c0 5.523-4.477 10-10 10s-10-4.477-10-10V68h20z"
            fill="#BD391E"
          />
          <path
            d="M28 109.861v6.928L9.593 127.417A9.953 9.953 0 018 122v-.592l20-11.547z"
            fill="#691F11"
          />
          <path
            d="M28 90.861v6.928L8 109.336v-6.928l20-11.547zM28 72.762v6.929L8 91.238v-6.929l20-11.547z"
            fill="#752313"
          />
          <path
            d="M18 68l.002 63.473h-3.213c-3.873-1.312-6.68-4.932-6.786-9.222l-.001-50.865c1.733-1.294 4.432-2.45 7.88-3.387H18z"
            fill="#000"
            fillOpacity=".1"
          />
          <rect fill="#362928" height="6" rx="1" width="36" y="65" />
        </g>
        <g transform="rotate(-142 118.469 86.825)">
          <path d="M17.999.855L18 72h-8L9.999.855h8z" fill="#B3B3B3" />
          <path d="M25.999.855L26 72h-8L17.999.855h8z" fill="#D6D6D6" />
          <path
            d="M28 68v54c0 5.523-4.477 10-10 10s-10-4.477-10-10V68h20z"
            fill="#BD391E"
          />
          <path
            d="M28 109.861v6.928L9.593 127.417A9.953 9.953 0 018 122v-.592l20-11.547z"
            fill="#691F11"
          />
          <path
            d="M28 90.861v6.928L8 109.336v-6.928l20-11.547zM28 72.762v6.929L8 91.238v-6.929l20-11.547z"
            fill="#752313"
          />
          <path
            d="M18 68l.002 63.473h-3.213c-3.873-1.312-6.68-4.932-6.786-9.222l-.001-50.865c1.733-1.294 4.432-2.45 7.88-3.387H18z"
            fill="#000"
            fillOpacity=".1"
          />
          <rect fill="#362928" height="6" rx="1" width="36" y="65" />
        </g>
        <rect
          fill="#C05656"
          height="27"
          rx="2"
          transform="rotate(26 80.225 138.01)"
          width="18"
          x="71.225"
          y="124.51"
        />
        <rect
          fill="#E36566"
          height="27"
          rx="2"
          transform="rotate(56 68.225 126.01)"
          width="18"
          x="59.225"
          y="112.51"
        />
        <path
          d="M142.202 2.939l-.11.254c1.662-.54 7.05 1.64 7.908 2.067 1.948.97-.465.15-.532 1.649-.053 1.184.147.358.532 1.351.16.413 1.075 1.587 1.206 1.712.574.55 1.171 1.066 1.76 1.595 2.663 2.4 5.402 4.794 7.76 7.614 8.844 10.57 9.226 28.606 9.274 42.438.009 3.267-.493 5.937-.777 8.856 4.998 1.493 5.777 5.23 5.775 10.526v2l.002 19c0 6-3 9-8 10-1 11-6 22-10 28-2.272 3.408-8.738 9.72-15 14.903v13.08h11.012c27.093 0 50.692 15.132 62.988 37.497C194.098 234.946 159.25 254 120 254c-39.248 0-74.097-19.055-96-48.518 12.299-22.367 35.897-37.498 62.99-37.498H98v-13.08c-6.262-5.183-12.728-11.495-15-14.903-4-6-9-17-10-28-5-1-8-4-8-10v-21c0-5.103.724-8.76 5.248-10.354-.047-.873-.07-1.605-.087-2.027-.273-6.317-.226-12.824.358-19.118.795-8.578 2.217-16.77 6.018-24.254 3.944-7.766 10.685-13.864 17.512-17.794 8.855-5.098 20.047-4.523 29.618-6.541C126.48.319 133.169.183 134 .26c2.672.246 1.761.642 1.022 2.06C137.257 1.382 140 1.26 142 .26c1.91-.954.982.894.202 2.679zM149 75H91a9 9 0 000 18h58a9 9 0 100-18z"
          fill="#39404A"
        />
        <path
          d="M169.992 62H70.006c.033-3.52.192-7.041.513-10.498.235-2.538.525-5.042.916-7.504L169.06 44c.76 6.103.897 12.352.931 18z"
          fill="#E36566"
        />
        <path
          d="M98 167.874l30.92 33.158-10.239 9.548-39.342-42.19a72.019 72.019 0 017.65-.406H98v-.11z"
          fill="#646464"
        />
        <path
          d="M142 164.205v3.779h11.012c1.504 0 2.996.046 4.477.138l-74.574 79.972a118.422 118.422 0 01-13.941-5.58l73.025-78.309z"
          fill="#000"
          fillOpacity=".2"
        />
        <path
          d="M142.475 167.983h10.537c2.764 0 5.491.158 8.174.465L86.01 249.063a118.28 118.28 0 01-14.238-5.261l70.702-75.819z"
          fill="#646464"
        />
        <path
          d="M109.999 163.096c1.852.464 2 1.001 10 1.001s7.852-.463 10-1c2.592-.864 7.236-4.154 12-8.096v10.7c-4.53 3.61-8.784 6.506-11.273 7.33-2.304.572-2.145 1.065-10.727 1.065s-8.74-.573-10.727-1.067c-2.49-.823-6.743-3.718-11.273-7.329L98 155.001c4.763 3.942 9.407 7.231 11.999 8.095z"
          fill="#000"
          fillOpacity=".1"
        />
        <path
          d="M105 112c0 4.418 7.82 8 15 8s15-3.582 15-8h-30z"
          fill="#000"
          fillOpacity=".15"
        />

        <animateTransform
          attributeName="transform"
          begin="indefinite"
          dur="300ms"
          fill="freeze"
          from="90 100 400"
          ref={show}
          to="0 100 400"
          type="rotate"
        />

        <animateTransform
          attributeName="transform"
          begin="indefinite"
          dur="300ms"
          fill="freeze"
          from="0 100 400"
          ref={hide}
          to="-90 100 400"
          type="rotate"
        />
      </g>
    </g>
  )
}
